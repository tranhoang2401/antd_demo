(function(){"use strict";var e={1409:function(e,t,a){var n=a(5130),r=a(8330),i=a(6768),o=a(4232);const s={class:"search-box"},h=["placeholder"],u={key:0},c=["onClick"],l={key:0,class:"weather-wrap"},d={class:"location-box"},g={class:"location"},y={class:"date"},m={class:"weather-box"},p={class:"temp"},f={class:"weather"},w={key:1,class:"forecast"},T={style:{background:"#ececec",padding:"18px"}},v={class:"date"},b={style:{"padding-left":"20%"}},k={class:"temp-max"},_={class:"temp-min"},L={class:"desc"};function S(e,t,a,r,S,C){const E=(0,i.g2)("SwitchButton"),F=(0,i.g2)("a-typography-title"),N=(0,i.g2)("a-flex"),B=(0,i.g2)("a-card"),x=(0,i.g2)("a-col"),M=(0,i.g2)("a-row"),O=(0,i.g2)("a-spin");return(0,i.uX)(),(0,i.CE)("div",{id:"app",class:(0,o.C4)("undefined"!==typeof e.weather.weather.main&&e.weather.weather.main.temp>16?"warm":"")},[(0,i.Lk)("main",null,[(0,i.bF)(E),t[3]||(t[3]=(0,i.Lk)("br",null,null,-1)),(0,i.Lk)("div",s,[(0,i.bo)((0,i.Lk)("input",{type:"text",class:"search-bar",placeholder:e.$t("search"),"onUpdate:modelValue":t[0]||(t[0]=e=>S.query=e),onKeypress:t[1]||(t[1]=(0,n.jR)(((...e)=>C.handleSearch&&C.handleSearch(...e)),["enter"])),onInput:t[2]||(t[2]=(...e)=>C.filterTowns&&C.filterTowns(...e))},null,40,h),[[n.Jo,S.query]]),S.filteredTowns.length?((0,i.uX)(),(0,i.CE)("ul",u,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(S.filteredTowns,(e=>((0,i.uX)(),(0,i.CE)("li",{key:e,onClick:t=>C.selectTown(e)},(0,o.v_)(e),9,c)))),128))])):(0,i.Q3)("",!0)]),"undefined"!==typeof e.weather.weather.main?((0,i.uX)(),(0,i.CE)("div",l,[(0,i.Lk)("div",d,[(0,i.Lk)("div",g,(0,o.v_)(e.weather.weather?.name)+", "+(0,o.v_)(e.weather.weather?.sys?.country),1),(0,i.Lk)("div",y,(0,o.v_)(C.dateBuilder()),1)]),(0,i.Lk)("div",m,[(0,i.Lk)("div",p,(0,o.v_)(Math.round(e.weather.weather?.main?.temp))+"°C",1),(0,i.Lk)("div",f,(0,o.v_)(e.$t(`weather.forecast.description.${e.weather?.weather?.weather[0]?.description}`)),1)])])):(0,i.Q3)("",!0),t[4]||(t[4]=(0,i.Lk)("br",null,null,-1)),e.weather.dailyForecast.length?((0,i.uX)(),(0,i.CE)("div",w,[(0,i.bF)(F,{level:3},{default:(0,i.k6)((()=>[(0,i.eW)((0,o.v_)(e.$t("nextdaysForecast")),1)])),_:1}),(0,i.bF)(M,null,{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.weather.dailyForecast.slice(4,16),((t,a)=>((0,i.uX)(),(0,i.Wv)(x,{class:"gutter-row",span:6,key:a,xs:24,sm:12,md:12,lg:8,xl:6},{default:(0,i.k6)((()=>[(0,i.Lk)("div",T,[(0,i.bF)(B,{title:e.$t("weather.forecast.day"),bordered:!1,style:{width:"95%","text-align":"center"}},{default:(0,i.k6)((()=>[(0,i.Lk)("p",v,(0,o.v_)(t.date),1),(0,i.Lk)("div",b,[(0,i.bF)(N,{horizontal:"horizontal"===e.value,justify:e.justify===e.space-e.between,gap:"large"},{default:(0,i.k6)((()=>[(0,i.Lk)("p",k,(0,o.v_)(t.temp_max)+" °C",1),(0,i.Lk)("p",_,(0,o.v_)(t.temp_min)+" °C",1)])),_:2},1032,["horizontal","justify"])]),(0,i.Lk)("p",L,(0,o.v_)(e.$t(`weather.forecast.description.${t.description}`)),1)])),_:2},1032,["title"])])])),_:2},1024)))),128))])),_:1})])):(0,i.Q3)("",!0),e.loading?((0,i.uX)(),(0,i.Wv)(O,{key:2,tip:"Loading..."})):(0,i.Q3)("",!0)])],2)}var C=a(782);function E(e,t,a,n,r,s){const h=(0,i.g2)("a-button");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(h,{type:"default",onClick:s.toggleLanguage},{default:(0,i.k6)((()=>[(0,i.eW)((0,o.v_)("vi"===r.currentLanguage?"ENG":"VIE"),1)])),_:1},8,["onClick"])])}var F={data(){return{currentLanguage:this.$i18n.locale}},methods:{toggleLanguage(){this.currentLanguage="vi"===this.currentLanguage?"en":"vi",this.$i18n.locale=this.currentLanguage}}},N=a(1241);const B=(0,N.A)(F,[["render",E]]);var x=B,M={name:"App",components:{SwitchButton:x},data(){return{query:"",towns:["An Giang","Bà Rịa - Vũng Tàu","Bắc Giang","Bắc Kạn","Bạc Liêu","Bắc Ninh","Bến Tre","Bình Định","Bình Dương","Bình Phước","Bình Thuận","Cà Mau","Cao Bằng","Đà Nẵng","Đắk Lắk","Đắk Nông","Điện Biên","Đồng Nai","Đồng Tháp","Hà Giang","Hà Nam","Hà Nội","Hà Tĩnh","Hải Dương","Hải Phòng","Hòa Bình","Hậu Giang","Hưng Yên","Khánh Hòa","Kiên Giang","Kon Tum","Lạng Sơn","Lào Cai","Long An","Nam Định","Nghệ An","Ninh Bình","Ninh Thuận","Phú Thọ","Phú Yên","Quảng Bình","Quảng Nam","Quảng Ngãi","Quảng Ninh","Quảng Trị","Sóc Trăng","Sơn La","Tây Ninh","Thái Bình","Thái Nguyên","Thanh Hóa","Thừa Thiên - Huế","Tiền Giang","Trà Vinh","Tuyên Quang","Vĩnh Long","Vĩnh Phúc","Yên Bái","Thành phố Hồ Chí Minh","Thành phố Cần Thơ","Thành phố Đà Nẵng","Thành phố Hải Phòng","Thành phố Nha Trang"],filteredTowns:[]}},computed:{...(0,C.aH)(["weather","dailyForecast","loading","error"])},methods:{...(0,C.i0)(["fetchWeather","fetchForecast"]),filterTowns(){const e=this.query.toLowerCase();this.filteredTowns=this.towns.filter((t=>t.toLowerCase().includes(e)))},selectTown(e){this.query=e,this.filteredTowns=[]},changeLanguage(e){this.$i18n.locale=e},handleSearch(){this.query.trim()?(this.fetchWeather(this.query),this.fetchForecast(this.query)):this.error="Please enter a city name."},dateBuilder(){let e=new Date,t=["january","february","march","april","may","june","july","august","september","october","november","december"],a=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],n=this.$t(`day.${a[e.getDay()]}`),r=e.getDate(),i=this.$t(`month.${t[e.getMonth()]}`),o=e.getFullYear();return`${n} ${r} ${i} ${o}`},formatDate(e){const t=new Date(1e3*e),a={weekday:"long",year:"numeric",month:"long",day:"numeric"};return t.toLocaleDateString(void 0,a)}},mounted(){console.log(this.$store.state.weather),console.log()}};const O=(0,N.A)(M,[["render",S]]);var j=O,A=(a(4529),a(4114),a(4373));const $={weather:{},dailyForecast:[],loading:!1,error:null},D={SET_WEATHER(e,t){e.weather=t},SET_DAILY_FORECAST(e,t){e.dailyForecast=t},SET_LOADING(e,t){e.loading=t},SET_ERROR(e,t){e.error=t}},H={async fetchWeather({commit:e},t){e("SET_LOADING",!0),e("SET_ERROR",null);try{const a=await A.A.get("https://api.openweathermap.org/data/2.5/weather",{params:{q:t,units:"metric",APPID:"cd23d63d9e67d80ad3f2f23a74fce0a9"}});await e("SET_WEATHER",a.data)}catch(a){e("SET_ERROR",a.response?a.response.data.message:"Error fetching data")}finally{e("SET_LOADING",!1)}},async fetchForecast({commit:e},t){const a=await A.A.get(`https://api.openweathermap.org/data/2.5/forecast?q=${t}&units=metric&appid=cd23d63d9e67d80ad3f2f23a74fce0a9`),n=a.data.list.map((e=>({date:e.dt_txt,temp_max:e.main.temp_max,temp_min:e.main.temp_min,description:e.weather[0].description})));e("SET_DAILY_FORECAST",n)},dayForecast(e){const t=[];for(let a=8;a<e.list.length;a+=8){const n=new Date(1e3*e.list[a].dt);t.push({date:n.toDateString(),temp_max:Math.floor(e.list[a].main.temp_max-273),temp_min:Math.floor(e.list[a].main.temp_min-273),description:e.list[a].weather[0].description})}return t}},R={getWeather:e=>e.weather,dailyForecast:e=>e.dailyForecast,isLoading:e=>e.loading,getError:e=>e.error};var P={state:$,mutations:D,actions:H,getters:R};const W=(0,C.y$)({modules:{weather:P}});var q=W,G=a(5931);const I={en:{nextdaysForecast:"Next Days Forecast",search:"Search...",month:{january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},day:{sunday:"Sunday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday"},weather:{forecast:{day:"Day",description:{"clear sky":"Clear Sky","light rain":"Light Rain","broken clouds":"Broken Clouds","scattered clouds":"Scattered Clouds","few clouds":"Few Clouds","overcast clouds":"Overcast Clouds","thunderstorm with light rain":"Thunderstorm With Light Rain","moderate rain":"Moderate Rain"}}}},vi:{nextdaysForecast:"Dự báo những ngày tiếp theo",search:"Tìm kiếm...",month:{january:"Tháng Một",february:"Tháng Hai",march:"Tháng Ba",april:"Tháng Tư",may:"Tháng Năm",june:"Tháng Sáu",july:"Tháng Bảy",august:"Tháng Tám",september:"Tháng Chín",october:"Tháng Mười",november:"Tháng Mười Một",december:"Tháng Mười Hai"},day:{sunday:"Chủ Nhật",monday:"Thứ Hai",tuesday:"Thứ Ba",wednesday:"Thứ Tư",thursday:"Thứ Năm",friday:"Thứ Sáu",saturday:"Thứ Bảy"},weather:{forecast:{day:"Ngày",description:{"clear sky":"Trời quang","light rain":"Mưa nhẹ","broken clouds":"Mây rải rác","scattered clouds":"Mây thưa","few clouds":"Ít mây","overcast clouds":"Mây che phủ","thunderstorm with light rain":"Sấm sét và mưa nhẹ","moderate rain":"Mưa vừa"}}}}},Q=(0,G.hU)({locale:navigator.language,fallbackLocale:"en",messages:I});var X=Q;const K=(0,n.Ef)(j);K.use(X).use(r.Ay).use(q).mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,i){if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],i=e[c][2];for(var s=!0,h=0;h<n.length;h++)(!1&i||o>=i)&&Object.keys(a.O).every((function(e){return a.O[e](n[h])}))?n.splice(h--,1):(s=!1,i<o&&(o=i));if(s){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,r,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,i,o=n[0],s=n[1],h=n[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(h)var c=h(a)}for(t&&t(n);u<o.length;u++)i=o[u],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(c)},n=self["webpackChunkantd_demo"]=self["webpackChunkantd_demo"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(1409)}));n=a.O(n)})();
//# sourceMappingURL=app.b301aaeb.js.map