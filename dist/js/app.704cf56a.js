(function(){"use strict";var e={4368:function(e,t,a){var r=a(5130),n=a(8330),o=a(6768),i=a(4232);const s={class:"search-box"},c={key:0,class:"weather-wrap"},l={class:"location-box"},d={class:"location"},u={class:"date"},h={class:"weather-box"},p={class:"temp"},f={class:"weather"},m={key:1,class:"forecast"},y={style:{background:"#ececec",padding:"18px"}},g={class:"date"},v={style:{"padding-left":"20%"}},w={class:"temp-max"},_={class:"temp-min"},b={class:"desc"};function k(e,t,a,n,k,E){const S=(0,o.g2)("a-typography-title"),L=(0,o.g2)("a-flex"),x=(0,o.g2)("a-card"),F=(0,o.g2)("a-col"),O=(0,o.g2)("a-row"),T=(0,o.g2)("a-spin");return(0,o.uX)(),(0,o.CE)("div",{id:"app",class:(0,i.C4)("undefined"!==typeof e.weather.weather.main&&e.weather.weather.main.temp>16?"warm":"")},[(0,o.Lk)("main",null,[(0,o.Lk)("div",s,[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"search-bar",placeholder:"Search...","onUpdate:modelValue":t[0]||(t[0]=e=>k.query=e),onKeypress:t[1]||(t[1]=(0,r.jR)(((...e)=>E.handleSearch&&E.handleSearch(...e)),["enter"]))},null,544),[[r.Jo,k.query]])]),"undefined"!==typeof e.weather.weather.main?((0,o.uX)(),(0,o.CE)("div",c,[(0,o.Lk)("div",l,[(0,o.Lk)("div",d,(0,i.v_)(e.weather.weather?.name)+", "+(0,i.v_)(e.weather.weather?.sys?.country),1),(0,o.Lk)("div",u,(0,i.v_)(E.dateBuilder()),1)]),(0,o.Lk)("div",h,[(0,o.Lk)("div",p,(0,i.v_)(Math.round(e.weather.weather?.main?.temp))+"°C",1),(0,o.Lk)("div",f,(0,i.v_)(e.weather?.weather?.weather[0]?.main),1)])])):(0,o.Q3)("",!0),t[3]||(t[3]=(0,o.Lk)("br",null,null,-1)),e.weather.dailyForecast.length?((0,o.uX)(),(0,o.CE)("div",m,[(0,o.bF)(S,{level:3},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.eW)("Next days forecast")]))),_:1}),(0,o.bF)(O,null,{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.weather.dailyForecast.slice(4,16),((t,a)=>((0,o.uX)(),(0,o.Wv)(F,{class:"gutter-row",span:6,key:a,xs:24,sm:12,md:8,lg:6},{default:(0,o.k6)((()=>[(0,o.Lk)("div",y,[(0,o.bF)(x,{title:"Ngày",bordered:!1,style:{width:"300px","text-align":"center"}},{default:(0,o.k6)((()=>[(0,o.Lk)("p",g,(0,i.v_)(t.date),1),(0,o.Lk)("div",v,[(0,o.bF)(L,{horizontal:"horizontal"===e.value,justify:e.justify===e.space-e.between,gap:"large"},{default:(0,o.k6)((()=>[(0,o.Lk)("p",w,(0,i.v_)(t.temp_max)+" °C",1),(0,o.Lk)("p",_,(0,i.v_)(t.temp_min)+" °C",1)])),_:2},1032,["horizontal","justify"])]),(0,o.Lk)("p",b,(0,i.v_)(t.description),1)])),_:2},1024)])])),_:2},1024)))),128))])),_:1})])):(0,o.Q3)("",!0),e.loading?((0,o.uX)(),(0,o.Wv)(T,{key:2,tip:"Loading..."})):(0,o.Q3)("",!0)])],2)}var E=a(782),S={name:"App",data(){return{query:""}},computed:{...(0,E.aH)(["weather","dailyForecast","loading","error"])},methods:{...(0,E.i0)(["fetchWeather","fetchForecast"]),handleSearch(){this.query.trim()?(this.fetchWeather(this.query),this.fetchForecast(this.query)):this.error="Please enter a city name."},dateBuilder(){let e=new Date,t=["January","February","March","April","May","June","July","August","September","October","November","December"],a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=a[e.getDay()],n=e.getDate(),o=t[e.getMonth()],i=e.getFullYear();return`${r} ${n} ${o} ${i}`},formatDate(e){const t=new Date(1e3*e),a={weekday:"long",year:"numeric",month:"long",day:"numeric"};return t.toLocaleDateString(void 0,a)}},mounted(){console.log(this.$store.state.weather)}},L=a(1241);const x=(0,L.A)(S,[["render",k]]);var F=x,O=(a(4529),a(4114),a(4373));const T={weather:{},dailyForecast:[],loading:!1,error:null},A={SET_WEATHER(e,t){e.weather=t},SET_DAILY_FORECAST(e,t){e.dailyForecast=t},SET_LOADING(e,t){e.loading=t},SET_ERROR(e,t){e.error=t}},D={async fetchWeather({commit:e},t){e("SET_LOADING",!0),e("SET_ERROR",null);try{const a=await O.A.get("https://api.openweathermap.org/data/2.5/weather",{params:{q:t,units:"metric",APPID:"cd23d63d9e67d80ad3f2f23a74fce0a9"}});await e("SET_WEATHER",a.data)}catch(a){e("SET_ERROR",a.response?a.response.data.message:"Error fetching data")}finally{e("SET_LOADING",!1)}},async fetchForecast({commit:e},t){const a=await O.A.get(`https://api.openweathermap.org/data/2.5/forecast?q=${t}&units=metric&appid=cd23d63d9e67d80ad3f2f23a74fce0a9`),r=a.data.list.map((e=>({date:e.dt_txt,temp_max:e.main.temp_max,temp_min:e.main.temp_min,description:e.weather[0].description})));e("SET_DAILY_FORECAST",r)},dayForecast(e){const t=[];for(let a=8;a<e.list.length;a+=8){const r=new Date(1e3*e.list[a].dt);t.push({date:r.toDateString(),temp_max:Math.floor(e.list[a].main.temp_max-273),temp_min:Math.floor(e.list[a].main.temp_min-273),description:e.list[a].weather[0].description})}return t}},R={getWeather:e=>e.weather,dailyForecast:e=>e.dailyForecast,isLoading:e=>e.loading,getError:e=>e.error};var j={state:T,mutations:A,actions:D,getters:R};const C=(0,E.y$)({modules:{weather:j}});var M=C;const W=(0,r.Ef)(F);W.use(n.Ay).use(M).mount("#app")}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,r,n,o){if(!r){var i=1/0;for(d=0;d<e.length;d++){r=e[d][0],n=e[d][1],o=e[d][2];for(var s=!0,c=0;c<r.length;c++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](r[c])}))?r.splice(c--,1):(s=!1,o<i&&(i=o));if(s){e.splice(d--,1);var l=n();void 0!==l&&(t=l)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[r,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,o,i=r[0],s=r[1],c=r[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(c)var d=c(a)}for(t&&t(r);l<i.length;l++)o=i[l],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},r=self["webpackChunkantd_demo"]=self["webpackChunkantd_demo"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(4368)}));r=a.O(r)})();
//# sourceMappingURL=app.704cf56a.js.map